!function(){"use strict";function a(a,e){var o=a.innerWidth(),t=a.innerHeight(),r=e.outerWidth()/o;e.outerHeight()/t;if(null==r||null==o)return alert("Eita, deu erro. :("),x++,!1;if(s&&(console.log("winW: "+o),console.log("wRatio: "+r),console.log("outerWidth: "+e.outerWidth()),console.log("outerHeight: "+e.outerHeight())),r<=1){for(;e.outerWidth()<o;)s&&console.log("outerWidth < winW"),p++,a.css("font-size",p+"px"),e.css("font-size",p+"px");for(;e.outerHeight()>t;)s&&console.log("outerHeight > winH"),p--,a.css("font-size",p+"px"),e.css("font-size",p+"px")}else{for(;e.outerWidth()>o;)s&&console.log("fntSz--(1)"),p--,a.css("font-size",p+"px"),e.css("font-size",p+"px");for(;e.outerHeight()>t;)s&&console.log("fntSz--(2)"),p--,a.css("font-size",p+"px"),e.css("font-size",p+"px")}return e.css("top",(t-e.outerHeight())/2),e.css("left",(o-e.outerWidth())/2),s&&console.log("FIM SCALE"),!0}function e(){$("#bloco").removeClass(),$("#bloco").addClass(l).addClass(c).addClass(i).addClass(d).addClass(h).addClass(m)}function o(a,e){a.text($("label."+e).text()).removeClass().addClass(e).addClass("escolhido")}function t(a,e){a.removeClass(),a.addClass(e)}var s=!1,r=!1,n={fonte:"oswald",forca:"forca_normal",escrita:"escrita_maiuscula",sombra:"",background:"none",formato:"form_quadrado",borda:"borda_sem"};s&&(n={fonte:"oswald",forca:"forca_normal",escrita:"escrita_maiuscula",sombra:"sombra",background:"none",formato:"form_quadrado",borda:"borda_sem"});var i=n.fonte,c=n.forca,l=n.escrita,d=n.sombra,f="inverte",h=n.background,m=n.formato,g=n.borda,u="",p=120,b=180,_=$("#contador"),v=$("<span/>").append($("<em/>").text("Carregando...")).css("display","none"),x=0;$("#imagem_final").attr("src",""),e(),$("#bloco").append(v),$("#"+i).attr("checked","checked"),$("#"+c).attr("checked","checked"),$("#"+l).attr("checked","checked"),_.text("0/"+b),$("#btn_gera_imagem").on("click",function(){var e=$("#bloco"),o=$("#bloco a"),t=$("#onde"),n=$("#texto");if(""!=n.val()){e.css("display","table-cell"),t.text("");var i=n.val();i=i.replace(/\n/g,"<br/>"),i=i.replace(/' '/g,"&nbsp;"),i=i.replace(/-----/g,"<hr/>");var c=i.indexOf("#"),l=i.lastIndexOf("#");if(c!=l){var d=i.substring(0,c);d+='<span class="'+f+'">',d+=i.substring(c+1,l),d+="</span>",d+=i.substring(l+1,i.length),i=d}i=i.replace(/<3/g,"&#9829;"),i=i.replace(/<\/3/g,"&#128148;").replace(/<,3/g,"&#128148;"),i=i.replace(/:\)/g,"&#9786;"),i=i.replace(/:\(/g,"&#9785;"),t.html(i),v.fadeIn(),a(o,t)&&(r||html2canvas(e,{background:"#fff",logging:s,onrendered:function(a){u=a.toDataURL("image/png",.9),$("#imagem_final").attr("src",u),s||$("#imagem_final").css("display","block"),$("#comentario").fadeIn()}})),v.fadeOut(),s||e.css("display","none")}}),$("input").on("click",function(){$("#onde").text(""),$("#bloco").removeClass(),"fonte"==$(this).attr("name")&&(i=$(this).val(),e(),o($("#fonte_escolhida"),i)),"forca"==$(this).attr("name")&&(c=$(this).val(),e(),o($("#forca_escolhida"),c)),"escrita"==$(this).attr("name")&&(l=$(this).val(),e(),o($("#escrita_escolhida"),l)),"background"==$(this).attr("name")&&(h=$(this).val(),e(),o($("#fundo_escolhida"),h)),"formato"==$(this).attr("name")&&(m=$(this).val(),$("#imagem_final").removeClass().addClass(m),e(),o($("#formato_escolhida"),m)),"borda"==$(this).attr("name")&&(g=$(this).val(),t($("#bloco a"),g),o($("#borda_escolhida"),g),"borda_com"==g?(t($("#marca"),"space_mono marca_com_borda"),$("#informa_borda").fadeIn().delay(8e3).slideUp()):t($("#marca"),"space_mono marca_sem_borda")),"exibe_marca"==$(this).attr("name")&&($(this).prop("checked")?$("#marca").hide():$("#marca").show())}),$("textarea").on("input",function(){var a=$(this).val();a.length>b?(a=a.slice(0,b),$(this).val(a),_.text("Sem textão!!").fadeOut(2e3,function(){_.text(a.length+"/"+b)}).fadeIn()):_.text(a.length+"/"+b)});var k=!1;$("#det_coisas_legais").on("click",function(){k?($("#coisas_legais").slideUp(),$(this).text("Ah, olha o que da pra fazer de legal!")):($("#coisas_legais").slideDown(),$(this).text("Bacana né? [clique aqui para esconder]")),k=!k}),$(".opc").on("click",function(){var a=$(this).attr("id");"none"==$("."+a).css("display")?$("."+a).slideDown():$("."+a).slideUp()}),function(){var a="img/",e=2,o=0;for(o=1;o<=e;o++)$(".img_ex"+o).attr("src",a+"ex"+o+".jpg")}()}(self);